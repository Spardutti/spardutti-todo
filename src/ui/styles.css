/*
 * spardutti-todo - Terminal UI Styles
 * Matrix Green color system and global styles
 * Epic 3: Terminal UI & Visual Identity
 */

/* ============================================
   CSS Custom Properties - Color System
   ============================================ */

:root {
  /* Background Colors */
  --color-bg-primary: #000000;      /* Pure black background */

  /* Text Colors */
  --color-text-primary: #00FF00;    /* Bright terminal green - active todos, input text */
  --color-text-secondary: #008800;  /* Dimmed green - footer hints, less emphasis */
  --color-text-completed: #004400;  /* Dark green - completed todos */

  /* Border & UI Colors */
  --color-border-default: #00FF00;  /* Green borders - input, window chrome */

  /* Status Colors */
  --color-error: #FF0000;           /* Red - error messages, warnings */
}

/* ============================================
   Global Resets & Base Styles
   ============================================ */

/* Universal box-sizing reset - ensures consistent box model across all elements */
* {
  box-sizing: border-box;
  margin: 0;                                  /* Reset all default margins */
  padding: 0;                                 /* Reset all default padding */
}

/* HTML element - full viewport height baseline */
html {
  height: 100%;                               /* Ensure HTML takes full viewport */
  background: var(--color-bg-primary);        /* Black background */
}

/* Body element - establishes terminal aesthetic foundation */
body {
  height: 100%;                               /* Full viewport height */
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: 'Consolas', 'Courier New', monospace;
  font-size: 14px;
  margin: 0;
  padding: 0;
  overflow: hidden;                           /* Prevent body scrollbar (app container handles scroll) */
}

/* Remove default focus outlines except where explicitly defined */
*:focus {
  outline: none;                              /* Remove browser default blue outline */
}

/* Remove default button styles */
button {
  font-family: inherit;                       /* Use Consolas from body */
  font-size: inherit;                         /* Use 14px from body */
  color: inherit;                             /* Use green from context */
  background: none;                           /* Remove default button background */
  border: none;                               /* Remove default button border */
  padding: 0;                                 /* Remove default button padding */
  cursor: pointer;                            /* Indicate clickable */
}

/* Remove default list styles (already applied to #todo-list, but ensure global coverage) */
ul, ol {
  list-style: none;                           /* No bullets or numbers */
  margin: 0;
  padding: 0;
}

/* ============================================
   INPUT FIELD
   ============================================ */

/* Base input styling - terminal aesthetic with green border */
#todo-input {
  background: var(--color-bg-primary);       /* Black background matches body */
  color: var(--color-text-primary);          /* Bright green text */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: inherit;                         /* 14px from body */
  border: 1px solid var(--color-border-default); /* Green border (1px for dense layout) */
  border-radius: 0;                           /* Sharp corners - terminal constraint */
  padding: 0.35rem;                           /* Dense layout per UX spec (not standard 0.5rem) */
  width: 100%;                                /* Full-width in container */
  caret-color: var(--color-text-primary);     /* Green text cursor (bright green) */
}

/* Focus state with green glow - ONLY allowed box-shadow in entire app */
#todo-input:focus {
  box-shadow: 0 0 8px var(--color-border-default); /* Green glow (8px radius) */
  outline: none;                              /* Remove default browser blue outline */
}

/* Placeholder text styling - dimmed green for less emphasis */
#todo-input::placeholder {
  color: rgba(0, 255, 0, 0.5);               /* 50% opacity green (dimmed) */
}

/* ============================================
   TODO LIST & ITEMS
   ============================================ */

/* List container - transparent wrapper that fills available space */
#todo-list {
  background: transparent;                    /* Inherits black from body */
  overflow-y: auto;                           /* Enables vertical scrolling for long lists */
  flex-grow: 1;                               /* Fills space between input and footer */
  margin-top: 0.75rem;                        /* Spacing from input field */
  margin-bottom: 0.75rem;                     /* Spacing before footer */
  list-style: none;                           /* No bullet points */
  padding: 0;                                 /* Reset default list padding */
  margin-left: 0;                             /* Reset default list margin */
  margin-right: 0;                            /* Reset default list margin */
}

/* Base todo item styling - dense flexbox layout */
.todo-item {
  display: flex;                              /* Horizontal layout: checkbox + text */
  align-items: flex-start;                    /* Top-align checkbox for multi-line text */
  gap: 0.5rem;                                /* Space between checkbox and text */
  padding: 0.35rem 0;                         /* Dense vertical spacing ONLY (no horizontal) */
  color: var(--color-text-primary);           /* Bright green #00FF00 for active todos */
  cursor: pointer;                            /* Indicates clickable item */
  list-style: none;                           /* No bullet points on individual items */
}

/* Hover state - subtle background tint for visual feedback */
.todo-item:hover {
  background: var(--color-text-secondary);                        /* Subtle dark green tint */
}

/* Selected state - visual indicator for keyboard navigation (Story 4.2) */
.todo-item.selected {
  background: var(--color-text-secondary);                        /* Subtle dark green tint (same as hover) */
}

/* Completed todo state - visual differentiation */
.todo-item[data-completed="true"] {
  color: var(--color-text-completed);         /* Dark green #004400 */
  text-decoration: line-through;              /* Strikethrough effect */
}

/* Checkbox component - prevents squishing on long text */
.checkbox {
  flex-shrink: 0;                             /* Don't squish checkbox when text wraps */
  color: inherit;                             /* Uses parent todo-item color */
}

/* Todo text component - allows wrapping for long content */
.todo-text {
  flex: 1;                                    /* Take remaining space, allow wrapping */
  word-wrap: break-word;                      /* Wrap long words to next line */
  color: inherit;                             /* Uses parent todo-item color */
}

/* ============================================
   ERROR MESSAGE
   ============================================ */

/* Error message display - inline red text below input field */
.error-message {
  color: var(--color-error);                      /* Red #FF0000 */
  font-family: 'Consolas', 'Courier New', monospace;
  font-size: 14px;                                /* Match input field font size */
  margin-top: 0.5rem;                             /* Spacing from input field */
  word-wrap: break-word;                          /* Handle long error messages */
  background: none;                               /* No background (just text) */
  border: none;                                   /* No border */
  box-shadow: none;                               /* No shadow */
  padding: 0;                                     /* No padding */
  display: none;                                  /* Hidden by default */
}

/* ============================================
   FOOTER HINTS
   ============================================ */

/* Footer container - keyboard shortcut hints at bottom */
#footer {
  border-top: 1px solid #004400;              /* Dark green separator line */
  padding-top: 0.5rem;                        /* Spacing from border to text */
  margin-top: 0.75rem;                        /* Spacing from todo list */
  font-size: 12px;                            /* Smaller than body 14px for de-emphasis */
  color: var(--color-text-secondary);         /* Dimmed green #008800 */
  background: transparent;                    /* Inherits black from body */
  flex-shrink: 0;                             /* Prevent footer from shrinking */
  /* font-family inherited from body (Consolas monospace) */
}

/* Footer hints text - keyboard shortcuts display */
.footer-hints {
  margin-bottom: 0.5rem;                      /* Space between hints and delete button */
}

/* Version display - small text in bottom right */
.version-display {
  position: absolute;                         /* Position in bottom right corner */
  right: 1rem;                                /* Distance from right edge */
  bottom: 0.5rem;                             /* Distance from bottom edge */
  font-size: 10px;                            /* Smaller than footer hints */
  color:var(--color-text-primary);                             /* Dark green - very subtle */
  opacity: 0.7;                               /* Make it unobtrusive */
  /* font-family inherited from body (Consolas monospace) */
}

/* ============================================
   PROJECT INDICATOR
   ============================================ */

/* Project indicator container - displays current project name and dropdown arrow */
.project-indicator {
  display: inline-flex;                       /* Inline horizontal layout */
  align-items: center;                        /* Vertical center alignment */
  color: var(--color-text-primary);           /* Bright green #00FF00 */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: inherit;                         /* 14px from body */
  cursor: pointer;                            /* Indicates clickable */
  background: transparent;                    /* Inherit black background */
  padding: 0.25rem 0.5rem;                    /* Compact padding */
  max-width: 200px;                           /* Limit width for long project names */
}

/* Hover state - subtle background tint for visual feedback */
.project-indicator:hover {
  background: #001100;                        /* Subtle dark green tint */
}

/* Project name span - handles text truncation for long names */
.project-indicator-name {
  overflow: hidden;                           /* Hide overflow text */
  text-overflow: ellipsis;                    /* Show ellipsis (...) for truncated text */
  white-space: nowrap;                        /* Prevent text wrapping */
}

/* Dropdown arrow span - prevents shrinking and maintains spacing */
.project-indicator-arrow {
  margin-left: 0.25rem;                       /* Small gap between name and arrow */
  flex-shrink: 0;                             /* Prevent arrow from shrinking */
}

/* ============================================
   PROJECT SEARCH (Ctrl+P)
   ============================================ */

/* Search mode container - active state for footer during Ctrl+P search */
.project-search-active {
  display: flex;                              /* Horizontal layout for prompt + results */
  align-items: center;                        /* Vertical center alignment */
  color: var(--color-text-primary);           /* Bright green #00FF00 */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: inherit;                         /* 14px from body */
  background: transparent;                    /* Inherit black background */
}

/* Search prompt ("> " indicator) */
.project-search-prompt {
  color: var(--color-text-primary);           /* Bright green #00FF00 */
  margin-right: 0;                            /* No gap (space is in text content) */
}

/* Search input display with cursor */
.project-search-input {
  color: var(--color-text-primary);           /* Bright green #00FF00 */
  margin-right: 0.5rem;                       /* Gap before results */
}

/* Results container - holds project chips */
.project-search-results {
  display: inline-flex;                       /* Horizontal layout for chips */
  gap: 0.25rem;                               /* Small gap between chips */
  flex-wrap: nowrap;                          /* No wrapping - horizontal scroll if needed */
  overflow-x: auto;                           /* Allow horizontal scroll for many matches */
}

/* Individual project match chip */
.project-search-match {
  color: var(--color-text-secondary);         /* Dimmed green #008800 for unselected */
  white-space: nowrap;                        /* Prevent text wrapping */
}

/* Selected/highlighted project match */
.project-search-match--selected {
  color: var(--color-text-primary);           /* Bright green #00FF00 for selected */
  background: #001100;                        /* Subtle dark green highlight */
  padding: 0 0.25rem;                         /* Small horizontal padding for highlight */
}

/* No matches message */
.project-search-no-match {
  color: var(--color-text-secondary);         /* Dimmed green #008800 */
  font-style: italic;                         /* Italic for informational message */
}

/* ============================================
   LAYOUT & APP CONTAINER
   ============================================ */

/* Main app container - flexbox column layout with full viewport height */
#app {
  display: flex;                              /* Enable flexbox layout */
  flex-direction: column;                     /* Vertical stacking: input → list → footer */
  height: 100vh;                              /* Full viewport height for proper hierarchy */
  padding: 16px;                              /* Edge breathing room per UX spec */
  background: var(--color-bg-primary);        /* Pure black #000000 */
  box-sizing: border-box;                     /* Include padding in height calculation */
  position: relative;                         /* Position context for absolute children */
}

/* Delete button temporary styling (will be removed in Epic 4 when Ctrl+D is implemented) */
#delete-completed-btn {
  padding: 0.35rem 0.75rem;                   /* Dense padding consistent with terminal aesthetic */
  border: 1px solid var(--color-border-default); /* Green border matching terminal theme */
  background: var(--color-bg-primary);        /* Black background */
  color: var(--color-text-primary);           /* Green text */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: 12px;                            /* Match footer font size */
  cursor: pointer;                            /* Indicates clickable */
  border-radius: 0;                           /* Sharp corners - terminal constraint */
}

#delete-completed-btn:hover {
  background: #001100;                        /* Subtle dark green tint on hover */
}

/* ============================================
   PROJECT DROPDOWN (Mouse Click)
   ============================================ */

/* Dropdown container - appears below project indicator when clicked */
.project-dropdown {
  position: absolute;                         /* Positioned relative to indicator */
  background: var(--color-bg-primary);        /* Black background #000000 */
  border: 1px solid var(--color-border-default); /* Green border #00FF00 */
  z-index: 100;                               /* Ensure dropdown appears above other content */
  min-width: 150px;                           /* Minimum width for project names */
  max-height: 200px;                          /* Limit height to prevent overwhelming UI */
  overflow-y: auto;                           /* Scrollable if many projects */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: inherit;                         /* 14px from body */
}

/* Individual project item in dropdown */
.project-dropdown-item {
  display: flex;                              /* Horizontal layout: checkmark + name */
  align-items: center;                        /* Vertical center alignment */
  padding: 0.35rem 0.5rem;                    /* Dense padding per terminal aesthetic */
  cursor: pointer;                            /* Indicates clickable */
  color: var(--color-text-primary);           /* Bright green #00FF00 */
}

/* Hover state for dropdown items */
.project-dropdown-item:hover,
.project-dropdown-item--highlighted {
  background: #001100;                        /* Subtle dark green tint */
}

/* Checkmark span - visible only for active project */
.project-dropdown-checkmark {
  width: 1rem;                                /* Fixed width for alignment */
  margin-right: 0.5rem;                       /* Gap between checkmark and name */
  flex-shrink: 0;                             /* Prevent shrinking */
  color: inherit;                             /* Use item color */
}

/* Project name span in dropdown */
.project-dropdown-name {
  flex: 1;                                    /* Take remaining space */
  white-space: nowrap;                        /* Prevent text wrapping */
  overflow: hidden;                           /* Hide overflow text */
  text-overflow: ellipsis;                    /* Show ellipsis for long names */
  color: inherit;                             /* Use item color */
}

/* Active project item styling */
.project-dropdown-item--active {
  /* No visual distinction beyond checkmark - terminal simplicity */
}

/* Separator between regular projects and "New Project" */
.project-dropdown-separator {
  height: 1px;                                /* Thin line */
  background: #004400;                        /* Dark green separator */
  margin: 0.25rem 0;                          /* Small vertical spacing */
}

/* New Project item styling */
.project-dropdown-item--new {
  /* Inherits base item styling */
}

/* Icon for "New Project" (+ symbol) */
.project-dropdown-icon {
  width: 1rem;                                /* Fixed width to match checkmark */
  margin-right: 0.5rem;                       /* Gap between icon and text */
  flex-shrink: 0;                             /* Prevent shrinking */
  text-align: center;                         /* Center the + symbol */
  color: inherit;                             /* Use item color */
}

/* Action hints for rename/delete (visible on highlighted items) */
.project-dropdown-actions {
  margin-left: auto;                          /* Push to right side */
  flex-shrink: 0;                             /* Prevent shrinking */
  color: var(--color-text-secondary);         /* Dimmed green #008800 */
  font-size: 12px;                            /* Smaller font for hints */
  letter-spacing: 0.3rem;                     /* Spacing between 'r' and 'd' */
}

/* ============================================
   PROJECT NAME INPUT (Modal Prompt)
   ============================================ */

/* Overlay - centers the input modal over the entire screen */
.project-name-input-overlay {
  position: fixed;                            /* Fixed to viewport */
  top: 0;
  left: 0;
  width: 100vw;                               /* Full viewport width */
  height: 100vh;                              /* Full viewport height */
  background: rgba(0, 0, 0, 0.7);             /* Semi-transparent black overlay */
  display: flex;                              /* Enable flexbox for centering */
  align-items: center;                        /* Vertical center */
  justify-content: center;                    /* Horizontal center */
  z-index: 200;                               /* Above dropdown (z-index 100) */
}

/* Input box container - the actual modal card */
.project-name-input-box {
  background: var(--color-bg-primary);        /* Black background #000000 */
  border: 2px solid var(--color-border-default); /* Thick green border for emphasis */
  padding: 1rem;                              /* Internal spacing */
  min-width: 300px;                           /* Minimum width for comfortable input */
  max-width: 400px;                           /* Maximum width to prevent too wide */
  display: flex;                              /* Vertical layout: label → input → hint */
  flex-direction: column;                     /* Stack vertically */
  gap: 0.75rem;                               /* Spacing between elements */
}

/* Label/prompt text above input */
.project-name-input-label {
  color: var(--color-text-primary);           /* Bright green #00FF00 */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: 14px;                            /* Same as body */
  margin: 0;
}

/* Error state for label */
.project-name-input-label--error {
  color: var(--color-error);                  /* Red #FF0000 for errors */
}

/* Input field */
.project-name-input-field {
  background: var(--color-bg-primary);        /* Black background */
  color: var(--color-text-primary);           /* Bright green #00FF00 */
  border: 1px solid var(--color-border-default); /* Green border */
  border-radius: 0;                           /* Sharp corners - terminal constraint */
  padding: 0.35rem;                           /* Dense padding per terminal aesthetic */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: 14px;                            /* Same as body */
  caret-color: var(--color-text-primary);     /* Green text cursor */
  width: 100%;                                /* Full width of container */
}

/* Focus state with green glow */
.project-name-input-field:focus {
  box-shadow: 0 0 8px var(--color-border-default); /* Green glow */
  outline: none;                              /* Remove default browser outline */
}

/* Error state for input */
.project-name-input-field--error {
  border-color: var(--color-error);           /* Red border #FF0000 */
}

/* Placeholder text styling */
.project-name-input-field::placeholder {
  color: rgba(0, 255, 0, 0.5);                /* 50% opacity green (dimmed) */
}

/* Hint text below input */
.project-name-input-hint {
  color: var(--color-text-secondary);         /* Dimmed green #008800 */
  font-family: inherit;                       /* Consolas monospace from body */
  font-size: 12px;                            /* Smaller than input for de-emphasis */
  margin: 0;
}
